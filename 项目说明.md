# 海报设计平台项目说明

## 项目概述
这是一个功能丰富的在线海报设计平台，提供从模板选择、元素编辑到最终导出的完整设计流程。项目采用前后端分离架构，前端使用Vue 3 + TypeScript + Vite，后端使用FastAPI。

## 项目结构

### 前端 (front_end)
- `src/` - 前端源代码
  - `api/` - API请求封装
  - `assets/` - 静态资源
    - `data/` - 数据文件
    - `fonts/` - 字体文件
    - `styles/` - 全局样式
  - `components/` - 公共组件
  - `router/` - 路由配置
  - `store/` - 状态管理
    - `design/` - 设计器相关状态
      - `canvas/` - 画布状态
      - `widget/` - 组件管理
      - `history/` - 操作历史
      - `group/` - 组合功能
  - `utils/` - 工具函数
    - `plugins/` - 插件
      - `psd/` - PSD解析相关
      - `worker/` - Web Workers
  - `views/` - 页面组件

### 后端 (back_end)
- `app/` - 后端源代码
  - `api/` - API路由
    - `psd.py` - PSD文件处理
    - `files.py` - 文件操作
    - `templates.py` - 模板管理
    - `materials.py` - 素材管理
    - `poster.py` - 海报相关
    - `cutout.py` - 图片抠图
  - `services/` - 业务逻辑
  - `main.py` - 应用入口
- `data/` - 数据存储
- `uploads/` - 上传文件存储

## 主要功能

### 1. 海报设计
- 拖拽式设计界面
- 多元素编辑（文字、图片、形状等）
- 图层管理
- 撤销/重做
- 画布缩放与移动

### 2. PSD处理
- PSD文件导入
- 图层解析与编辑
- PSD导出

### 3. 模板系统
- 模板分类管理
- 模板预览
- 模板应用

### 4. 素材管理
- 图片素材库
- 字体管理
- 形状与图标

### 5. 图片处理
- 图片裁剪
- 图片滤镜
- 智能抠图
- 背景去除

## 技术栈

### 前端
- Vue 3 + TypeScript + Vite
- Pinia 状态管理
- Element Plus UI组件库
- Moveable 拖拽库
- html2canvas 画布导出
- PSD.js PSD解析

### 后端
- FastAPI
- Python 3.8+
- Uvicorn ASGI服务器
- 支持CORS

## 开发环境

### 前端
- Node.js 16+
- npm 8+

### 后端
- Python 3.8+
- pip 20+

## 部署说明

### 环境变量

#### 后端
创建 `.env` 文件：
```
# FastAPI 配置
APP_ENV=production
HOST=0.0.0.0
PORT=8000
DEBUG=false

# CORS 配置
CORS_ORIGINS=["*"]

# 文件上传
UPLOAD_FOLDER=./uploads
MAX_CONTENT_LENGTH=16777216  # 16MB

# 临时文件
TEMP_FOLDER=./temp
```

## API文档
启动后端服务后，访问 `/docs` 查看完整的API文档。
